extend schema
  @link(
    url: "https://specs.apollo.dev/federation/v2.0"
    import: ["@key", "@external"]
  )

type Mutation {
  giveOrder(products: [ID]!): Order
  updateOrder(orderId: ID, status: String): Order
}

type Order @key(fields: "id") {
  id: ID
  buyer: User
  orderId: ID
  totalPrice: Int
  status: String
}

extend type User @key(fields: "id") {
  id: ID! @external
  orders: Order
}
